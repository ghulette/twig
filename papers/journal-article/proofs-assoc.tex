%!TEX root = twig.tex

\section{Associative Operators}

In this appendix we present proofs that sequence and choice are
associative. This allows us to write expressions such as $f;g;h$
or $f|g|h$ without ambiguity.

\subsection{Sequence}
\label{sec:seq-assoc}

We want to show that $(f;g);h = f;(g;h)$. To do this, we have to
prove two cases:

\begin{equation}
t \arr{(f;g);h} (t',m) \Leftrightarrow t \arr{f;(g;h)} (t',m)
\end{equation}

and also

\begin{equation}
t \arr{(f;g);h} \bot \Leftrightarrow t \arr{f;(g;h)} \bot
\end{equation}

Case \#1:

We have to show

\begin{equation}
t \arr{(f;g);h} (t',m) \Rightarrow t \arr{f;(g;h)} (t',m)
\end{equation}

So we assume the premise:

\begin{equation}
t \arr{(f;g);h} (t',m)
\end{equation}

By \eqref{S1}:

\begin{equation}
t \arr{f;g} (t'',m_{fg}) \qquad t'' \arr{h} (t',m_h)
\end{equation}

and let $m = m_{fg}+m_h$. By \eqref{S1}:

\begin{equation}
t \arr{f} (t''',m_f) \qquad (t''' \arr{g} (t'',m_g)
\end{equation}

and let $m_{fg} = m_f+m_g$. By \eqref{S1}:

\begin{equation}
t \arr{f} (t''',m_f) \qquad t''' \arr{g;h} (t',m_g+m_h)
\end{equation}

By \eqref{S1}:

\begin{equation}
t \arr{f;(g;h)} (t',m_f+m_g+m_h)
\end{equation}

The reverse case of the implication proceeds almost identically.

Case \#2:

We want to prove

\begin{equation}
t \arr{(f;g);h} \bot \Rightarrow t \arr{f;(g;h)} \bot
\end{equation}

So we assume the premise:

\begin{equation}
t \arr{(f;g);h} \bot
\end{equation}

and now there are three possible sub-cases.

Sub-case \#1:

By \eqref{S2}:

\begin{equation}
t \arr{f;g} \bot
\end{equation}

By \eqref{S2}:

\begin{equation}
t \arr{f} \bot
\end{equation}

By \eqref{S2}:

\begin{equation}
t \arr{f;(g;h)} \bot
\end{equation}

Sub-case \#2:

By \eqref{S2}:

\begin{equation}
t \arr{f;g} \bot
\end{equation}

By \eqref{S3}:

\begin{equation}
t \arr{f} (t',m_f) \qquad t' \arr{g} \bot
\end{equation}

By \eqref{S2}:

\begin{equation}
t' \arr{g;h} \bot
\end{equation}

By \eqref{S1}:

\begin{equation}
t \arr{f;(g;h)} \bot
\end{equation}

Sub-case \#3:

By \eqref{S3}:

\begin{equation}
t \arr{f;g} (t',m_{fg} \qquad t' \arr{h} \bot
\end{equation}

By \eqref{S1}:

\begin{equation}
t \arr{f} (t'',m_f) \qquad t'' \arr{g} (t',m_g)
\end{equation}

where $m_{fg} = m_f + m_g$. By \eqref{S2}:

\begin{equation}
t'' \arr{g;h} \bot
\end{equation}

By \eqref{S1}:

\begin{equation}
t \arr{f;(g;h)} \bot
\end{equation}

The reverse case of the implication proceeds almost identically.


\subsection{Choice}
\label{sec:choice-assoc}

We want to show that $(f|g)|h = f|(g|h)$. To do this, we have to
prove two cases:

\begin{equation}
t \arr{(f|g)|h} (t',m) \Leftrightarrow t \arr{f|(g|h)} (t',m)
\end{equation}

and also

\begin{equation}
t \arr{(f|g)|h} \bot \Leftrightarrow t \arr{f|(g|h)} \bot
\end{equation}

Case \#1:

We assume the premise:

\begin{equation}
t \arr{(f|g)|h} (t',m)
\end{equation}

There are three sub-cases:

Sub-case \#1:

By \eqref{C1}

\begin{equation}
t \arr{f|g} (t',m)
\end{equation}

By \eqref{C1}

\begin{equation}
t \arr{f} (t',m)
\end{equation}

By \eqref{C1}

\begin{equation}
t \arr{f|(g|h)} (t',m)
\end{equation}

Sub-case \#2:

By \eqref{C1}

\begin{equation}
t \arr{f|g} (t',m)
\end{equation}

By \eqref{C2}

\begin{equation}
t \arr{f} \bot \qquad t \arr{g} (t',m)
\end{equation}

By \eqref{C1}

\begin{equation}
t \arr{f} \bot \qquad t \arr{g|h} (t',m)
\end{equation}

By \eqref{C2}

\begin{equation}
t \arr{f|(g|h)} (t',m)
\end{equation}

Sub-case \#3:

By \eqref{C1}

\begin{equation}
t \arr{f|g} \bot \qquad t \arr{h} (t',m)
\end{equation}

By \eqref{C3}

\begin{equation}
t \arr{f} \bot \qquad t \arr{g} \bot \qquad t \arr{h} (t',m)
\end{equation}

By \eqref{C1}

\begin{equation}
t \arr{f} \bot \qquad t \arr{g|h} (t',m)
\end{equation}

By \eqref{C2}

\begin{equation}
t \arr{f|(g|h)} (t',m)
\end{equation}

Case \#2:

We assume the premise:

\begin{equation}
t \arr{(f|g)|h} \bot
\end{equation}

By \eqref{C3}:

\begin{equation}
t \arr{f|g} \bot \qquad t \arr{h} \bot
\end{equation}

By \eqref{C3}:

\begin{equation}
t \arr{f} \bot \qquad t \arr{g} \bot \qquad t \arr{h} \bot
\end{equation}

By \eqref{C3}:

\begin{equation}
t \arr{f} \bot \qquad t \arr{g|h} \bot
\end{equation}

By \eqref{C3}:

\begin{equation}
t \arr{f|(g|h)} \bot
\end{equation}
